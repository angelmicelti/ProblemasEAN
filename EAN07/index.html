<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicios Electrónica: Diodos</title>
    <style>
        :root {
            --primary: #059669; /* Verde esmeralda para diferenciar de transistores */
            --secondary: #047857;
            --accent: #10b981;
            --light: #f0fdf4;
            --dark: #064e3b;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --gray: #64748b;
            --border-radius: 12px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #1f2937;
            background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 2rem 0;
            margin-bottom: 2rem;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            position: sticky;
            top: 20px;
            z-index: 100;
            border-bottom: 4px solid var(--primary);
        }

        h1 {
            font-size: 2.2rem;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .subtitle {
            color: var(--gray);
            font-size: 1.1rem;
        }

        .content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .home-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .problem-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            text-align: center;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            cursor: pointer;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .problem-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            border-color: var(--primary);
        }

        .problem-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
        }

        .problem-card h3 {
            font-size: 1.4rem;
            color: var(--primary);
            margin-bottom: 0.8rem;
        }

        .problem-card p {
            color: var(--gray);
            font-size: 0.95rem;
            margin-bottom: 1rem;
        }

        .problem-container {
            background: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--box-shadow);
            margin-bottom: 2rem;
        }

        .circuit-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 2rem 0;
            gap: 1.5rem;
        }

        .circuit-row {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            width: 100%;
        }

        .circuit-image {
            max-width: 100%;
            height: auto;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            border: 2px solid var(--primary);
        }

        .circuit-single {
            max-width: 500px;
            width: 100%;
        }

        .circuit-small {
            max-width: 250px;
            width: 100%;
        }

        .circuit-multiple {
            max-width: 200px;
            width: 100%;
        }

        .display-container {
            display: flex;
            align-items: flex-start;
            gap: 2rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .display-text {
            flex: 1;
            min-width: 300px;
        }

        .display-image {
            max-width: 250px;
            width: 100%;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            border: 2px solid var(--primary);
        }

        .board-mode {
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid var(--accent);
        }

        .board-steps {
            display: none;
            margin-top: 1rem;
        }

        .board-steps.active {
            display: block;
            animation: slideDown 0.4s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .step {
            background: white;
            border-radius: var(--border-radius);
            padding: 1.2rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            border-left: 3px solid var(--primary);
        }

        .step h4 {
            color: var(--secondary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .formula {
            background: #e0f2fe; /* Azul muy claro para diferenciar fórmulas */
            padding: 0.8rem;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 0.8rem 0;
            font-weight: bold;
            color: #0369a1;
            border: 1px solid #bae6fd;
        }

        .calculation {
            background: #dcfce7; /* Verde claro */
            padding: 0.8rem;
            border-radius: 8px;
            margin: 0.8rem 0;
            color: #14532d;
            border: 1px solid #86efac;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.9rem;
        }
        
        .data-table th, .data-table td {
            border: 1px solid #e5e7eb;
            padding: 8px;
            text-align: center;
        }
        
        .data-table th {
            background-color: var(--primary);
            color: white;
        }

        .solution-highlight {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin: 1.5rem 0;
            text-align: center;
            border: 2px solid var(--primary);
        }

        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            font-size: 1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            display: inline-block;
            margin: 0.5rem;
            box-shadow: 0 2px 4px rgba(5, 150, 105, 0.3);
        }

        .btn:hover {
            background: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(5, 150, 105, 0.4);
        }

        .btn-back {
            background: var(--gray);
            box-shadow: none;
        }

        .btn-back:hover {
            background: #475569;
        }

        .btn-board {
            background: var(--dark);
            font-size: 1.1rem;
            padding: 1rem 2rem;
            width: 100%;
            margin: 1rem 0;
        }

        .problem-title {
            font-size: 1.8rem;
            color: var(--primary);
            margin-bottom: 1rem;
            text-align: center;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 1rem;
        }

        .problem-statement {
            font-size: 1.1rem;
            line-height: 1.7;
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: #f8fafc;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--gray);
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .center-nav {
            display: flex;
            justify-content: center;
            width: 100%;
        }

        @media (max-width: 768px) {
            .home-grid {
                grid-template-columns: 1fr;
            }
            .navigation {
                flex-direction: column;
            }
            .btn {
                width: 100%;
            }
            .circuit-multiple {
                max-width: 150px;
            }
            .circuit-small {
                max-width: 200px;
            }
            .circuit-row {
                gap: 10px;
            }
            .display-container {
                flex-direction: column;
            }
            .display-image {
                max-width: 300px;
                align-self: center;
            }
        }
        
        @media (max-width: 480px) {
            .circuit-multiple {
                max-width: 120px;
            }
            .circuit-small {
                max-width: 180px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Boletín EAN7: Diodos</h1>
            <p class="subtitle">I.E.S. Virgen de Villadiego - Departamento de Tecnología</p>
        </header>

        <main>
            <section id="home" class="content active">
                <div style="background-color: #fff; padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem; text-align: center; border: 1px solid #e5e7eb;">
                    <h3 style="color: var(--primary); margin-bottom: 10px;">Referencia: Tensiones de LED</h3>
                    <div style="display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; font-size: 0.9rem;">
                        <span style="background: #fee2e2; padding: 4px 10px; border-radius: 4px;">Rojo: 1.6V</span>
                        <span style="background: #fef3c7; padding: 4px 10px; border-radius: 4px;">Amarillo: 1.7V</span>
                        <span style="background: #d1fae5; padding: 4px 10px; border-radius: 4px;">Verde: 2.4V</span>
                        <span style="background: #dbeafe; padding: 4px 10px; border-radius: 4px;">Azul: 3V</span>
                        <span style="background: #f3f4f6; padding: 4px 10px; border-radius: 4px;">Blanco: 3.4V</span>
                        <span style="background: #e5e7eb; padding: 4px 10px; border-radius: 4px;">Silicio: 0.7V</span>
                        <span style="background: #e5e7eb; padding: 4px 10px; border-radius: 4px;">Germanio: 0.4V</span>
                    </div>
                </div>

                <div class="home-grid">
                    <div class="problem-card" onclick="showProblem(1)">
                        <div>
                            <h3>Problema 1</h3>
                            <p>Análisis cualitativo: ¿Qué bombillas se encienden según la posición de los diodos?</p>
                        </div>
                        <span style="color: var(--primary); font-weight: bold;">Ver solución →</span>
                    </div>
                    
                    <div class="problem-card" onclick="showProblem(2)">
                        <div>
                            <h3>Problema 2</h3>
                            <p>Cálculo de resistencia de protección para un LED Verde con pila de 4.5V.</p>
                        </div>
                        <span style="color: var(--primary); font-weight: bold;">Ver solución →</span>
                    </div>

                    <div class="problem-card" onclick="showProblem(3)">
                        <div>
                            <h3>Problema 3</h3>
                            <p>Circuito serie con Diodo de Silicio y R=10K a 9V. Calcular I y V en resistencia.</p>
                        </div>
                        <span style="color: var(--primary); font-weight: bold;">Ver solución →</span>
                    </div>

                    <div class="problem-card" onclick="showProblem(4)">
                        <div>
                            <h3>Problema 4</h3>
                            <p>Circuito anterior agregando dos diodos más en serie. Calcular nueva intensidad.</p>
                        </div>
                        <span style="color: var(--primary); font-weight: bold;">Ver solución →</span>
                    </div>

                    <div class="problem-card" onclick="showProblem(5)">
                        <div>
                            <h3>Problema 5</h3>
                            <p>Circuito 3: Cálculo de intensidad con diodo de Germanio (0.4V) y resistencias en serie.</p>
                        </div>
                        <span style="color: var(--primary); font-weight: bold;">Ver solución →</span>
                    </div>

                    <div class="problem-card" onclick="showProblem(6)">
                        <div>
                            <h3>Problema 6</h3>
                            <p>Teoría: ¿Quién necesita más resistencia de protección, un LED rojo o uno verde?</p>
                        </div>
                        <span style="color: var(--primary); font-weight: bold;">Ver solución →</span>
                    </div>

                    <div class="problem-card" onclick="showProblem(7)">
                        <div>
                            <h3>Problema 7</h3>
                            <p>Análisis del Circuito 4 con Diodo de Germanio y LED Verde en ramas paralelas.</p>
                        </div>
                        <span style="color: var(--primary); font-weight: bold;">Ver solución →</span>
                    </div>

                    <div class="problem-card" onclick="showProblem(8)">
                        <div>
                            <h3>Problema 8</h3>
                            <p>El Semáforo: Cálculo de intensidades y potencias para LEDs Rojo, Amarillo y Verde.</p>
                        </div>
                        <span style="color: var(--primary); font-weight: bold;">Ver solución →</span>
                    </div>

                    <div class="problem-card" onclick="showProblem(9)">
                        <div>
                            <h3>Problema 9</h3>
                            <p>Display 7 segmentos: Cálculo de potencia total consumida por el display.</p>
                        </div>
                        <span style="color: var(--primary); font-weight: bold;">Ver solución →</span>
                    </div>

                    <div class="problem-card" onclick="showProblem(10)">
                        <div>
                            <h3>Problema 10</h3>
                            <p>Circuito 6: Intensidades de rama y cálculo de resistencia mínima para LED amarillo.</p>
                        </div>
                        <span style="color: var(--primary); font-weight: bold;">Ver solución →</span>
                    </div>

                    <div class="problem-card" onclick="showProblem(11)">
                        <div>
                            <h3>Problema 11</h3>
                            <p>Circuito 7: Cálculo de resistencia de protección para un LED rojo.</p>
                        </div>
                        <span style="color: var(--primary); font-weight: bold;">Ver solución →</span>
                    </div>
                </div>
            </section>

            <section id="problem1" class="content">
                <div class="problem-container">
                    <h2 class="problem-title">Problema 1</h2>
                    <p class="problem-statement">En los siguientes circuitos, indica qué sucede con las bombillas que aparecen en ellos, teniendo en cuenta la posición de los diodos.</p>
                    
                    <div class="circuit-container">
                        <div class="circuit-row">
                            <img src="img/EAN7_Ca.jpg" alt="Circuito a" class="circuit-image circuit-multiple">
                            <img src="img/EAN7_Cb.jpg" alt="Circuito b" class="circuit-image circuit-multiple">
                            <img src="img/EAN7_Cc.jpg" alt="Circuito c" class="circuit-image circuit-multiple">
                            <img src="img/EAN7_Cd.jpg" alt="Circuito d" class="circuit-image circuit-multiple">
                        </div>
                    </div>
                    
                    <button class="btn btn-board" onclick="toggleBoard(1)">Modo Pizarra - Ver Explicación</button>
                    
                    <div class="board-mode">
                        <div class="board-steps" id="board1">
                            <div class="step">
                                <h4>Fundamento Teórico</h4>
                                <p>Un diodo permite el paso de corriente solo cuando está <strong>polarizado en directa</strong> (Ánodo positivo, Cátodo negativo). Si está en inversa, actúa como un interruptor abierto.</p>
                            </div>
                            <div class="step">
                                <h4>Análisis Circuito "a"</h4>
                                <p><strong>Rama Izquierda:</strong> El diodo D1 está en inversa (el positivo de la pila de 9V llega al cátodo/barra). No pasa corriente por BL1.</p>
                                <p><strong>Rama Derecha:</strong> El diodo D2 está en directa (positivo al ánodo/triángulo). Pasa corriente por BL2.</p>
                                <div class="calculation">Resultado: Solo se enciende BL2.</div>
                            </div>
                            <div class="step">
                                <h4>Análisis Circuito "b"</h4>
                                <p>Es un circuito serie. D1 está en directa, pero D2 está en inversa.</p>
                                <div class="calculation">Resultado: No se enciende ninguna bombilla (circuito abierto por D2).</div>
                            </div>
                            <div class="step">
                                <h4>Análisis Circuito "c"</h4>
                                <p>La corriente se divide. D1 está en directa. D2 está en inversa.</p>
                                <div class="calculation">Resultado: Se enciende BL1. BL2 permanece apagada.</div>
                            </div>
                            <div class="step">
                                <h4>Análisis Circuito "d"</h4>
                                <p>Ambos diodos están en paralelo con sus respectivas bombillas y ambos están polarizados en directa.</p>
                                <div class="calculation">Resultado: Se encienden ambas bombillas BL1 y BL2.</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn btn-back" onclick="showHome()">Volver al inicio</button>
                        <button class="btn" onclick="showProblem(2)">Siguiente problema →</button>
                    </div>
                </div>
            </section>

            <section id="problem2" class="content">
                <div class="problem-container">
                    <h2 class="problem-title">Problema 2</h2>
                    <p class="problem-statement">Calcula el valor de la resistencia de polarización para un LED verde conectado a una pila de petaca de 4,5 voltios. Se busca que la intensidad sea de 20 mA.</p>
                    
                    <button class="btn btn-board" onclick="toggleBoard(2)">Modo Pizarra - Ver resolución paso a paso</button>
                    
                    <div class="board-mode">
                        <div class="board-steps" id="board2">
                            <div class="step">
                                <h4>Paso 1: Identificar datos</h4>
                                <ul style="margin-left: 20px;">
                                    <li><strong>V<sub>pila</sub> (V<sub>CC</sub>):</strong> 4.5 V</li>
                                    <li><strong>V<sub>LED</sub> (Verde):</strong> 2.4 V (según tabla)</li>
                                    <li><strong>Intensidad (I):</strong> 20 mA = 0.02 A</li>
                                </ul>
                            </div>
                            
                            <div class="step">
                                <h4>Paso 2: Ley de Ohm en la resistencia</h4>
                                <p>La resistencia debe absorber el voltaje que sobra:</p>
                                <div class="formula">V<sub>R</sub> = V<sub>CC</sub> - V<sub>LED</sub></div>
                                <div class="calculation">V<sub>R</sub> = 4.5V - 2.4V = 2.1 V</div>
                            </div>
                            
                            <div class="step">
                                <h4>Paso 3: Calcular Resistencia</h4>
                                <div class="formula">R = V<sub>R</sub> / I</div>
                                <div class="calculation">R = 2.1V / 0.02A = 105 Ω</div>
                            </div>
                            
                            <div class="solution-highlight">
                                <h3>Solución:</h3>
                                <p>Se necesita una resistencia de <strong>105 Ω</strong>.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn btn-back" onclick="showHome()">Volver al inicio</button>
                        <button class="btn" onclick="showProblem(1)">← Problema anterior</button>
                        <button class="btn" onclick="showProblem(3)">Siguiente problema →</button>
                    </div>
                </div>
            </section>

            <section id="problem3" class="content">
                <div class="problem-container">
                    <h2 class="problem-title">Problema 3</h2>
                    <p class="problem-statement">En el circuito 2 se ha colocado un diodo de silicio (V<sub>d</sub>=0,7V), fuente de 9V y resistencia de 10K. ¿Cuál es la intensidad que lo atraviesa? ¿Qué tensión hay en la resistencia?</p>
                    
                    <div class="circuit-container">
                        <img src="img/EAN7_C2.jpg" alt="Circuito 2" class="circuit-image circuit-small">
                    </div>

                    <button class="btn btn-board" onclick="toggleBoard(3)">Modo Pizarra - Ver resolución paso a paso</button>
                    
                    <div class="board-mode">
                        <div class="board-steps" id="board3">
                            <div class="step">
                                <h4>Paso 1: Análisis de Malla</h4>
                                <p>Aplicamos Kirchhoff. La suma de caídas de tensión es igual a la fuente:</p>
                                <div class="formula">V<sub>CC</sub> = V<sub>diodo</sub> + V<sub>R</sub></div>
                                <p>Sabemos que V<sub>diodo</sub> (Silicio) es 0.7V.</p>
                            </div>
                            
                            <div class="step">
                                <h4>Paso 2: Calcular Tensión en Resistencia (V<sub>R</sub>)</h4>
                                <div class="formula">V<sub>R</sub> = V<sub>CC</sub> - 0.7V</div>
                                <div class="calculation">V<sub>R</sub> = 9V - 0.7V = 8.3 V</div>
                            </div>
                            
                            <div class="step">
                                <h4>Paso 3: Calcular Intensidad (I)</h4>
                                <p>Usamos la Ley de Ohm en la resistencia (10K = 10,000 Ω):</p>
                                <div class="formula">I = V<sub>R</sub> / R</div>
                                <div class="calculation">I = 8.3V / 10,000Ω = 0.00083 A = 0.83 mA</div>
                            </div>
                            
                            <div class="solution-highlight">
                                <h3>Solución Final:</h3>
                                <p><strong>V<sub>R</sub> = 8.3 V</strong></p>
                                <p><strong>I = 0.83 mA</strong></p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn btn-back" onclick="showHome()">Volver al inicio</button>
                        <button class="btn" onclick="showProblem(2)">← Problema anterior</button>
                        <button class="btn" onclick="showProblem(4)">Siguiente problema →</button>
                    </div>
                </div>
            </section>

            <section id="problem4" class="content">
                <div class="problem-container">
                    <h2 class="problem-title">Problema 4</h2>
                    <p class="problem-statement">Si en el mismo circuito que en el ejercicio anterior colocamos dos diodos más en serie (Total: 3 diodos de silicio), ¿cuál será ahora la intensidad que pase por el circuito?</p>
                    
                    <div class="circuit-container">
                        <img src="img/EAN7_C2.jpg" alt="Circuito 2" class="circuit-image circuit-small">
                    </div>

                    <button class="btn btn-board" onclick="toggleBoard(4)">Modo Pizarra - Ver resolución paso a paso</button>
                    
                    <div class="board-mode">
                        <div class="board-steps" id="board4">
                            <div class="step">
                                <h4>Paso 1: Calcular caída de tensión total en diodos</h4>
                                <p>Tenemos 3 diodos de Silicio en serie. Cada uno cae 0.7V.</p>
                                <div class="formula">V<sub>d_total</sub> = 3 × 0.7V = 2.1 V</div>
                            </div>
                            
                            <div class="step">
                                <h4>Paso 2: Calcular Tensión en Resistencia</h4>
                                <div class="formula">V<sub>R</sub> = V<sub>CC</sub> - V<sub>d_total</sub></div>
                                <div class="calculation">V<sub>R</sub> = 9V - 2.1V = 6.9 V</div>
                            </div>
                            
                            <div class="step">
                                <h4>Paso 3: Calcular Intensidad</h4>
                                <div class="formula">I = V<sub>R</sub> / R</div>
                                <div class="calculation">I = 6.9V / 10,000Ω = 0.00069 A = 0.69 mA</div>
                            </div>
                            
                            <div class="solution-highlight">
                                <h3>Solución:</h3>
                                <p>La nueva intensidad es <strong>0.69 mA</strong>.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn btn-back" onclick="showHome()">Volver al inicio</button>
                        <button class="btn" onclick="showProblem(3)">← Problema anterior</button>
                        <button class="btn" onclick="showProblem(5)">Siguiente problema →</button>
                    </div>
                </div>
            </section>

            <section id="problem5" class="content">
                <div class="problem-container">
                    <h2 class="problem-title">Problema 5</h2>
                    <p class="problem-statement">Calcula la intensidad que pasa por el circuito 3, si hemos colocado en él un diodo de germanio (V<sub>diodo</sub>=0,4V). Datos del esquema: Fuente 6V, R1=4.7K, R2=2.2K en serie.</p>
                    
                    <div class="circuit-container">
                        <img src="img/EAN7_C3.jpg" alt="Circuito 3" class="circuit-image circuit-small">
                    </div>

                    <button class="btn btn-board" onclick="toggleBoard(5)">Modo Pizarra - Ver resolución paso a paso</button>
                    
                    <div class="board-mode">
                        <div class="board-steps" id="board5">
                            <div class="step">
                                <h4>Paso 1: Resistencia Total</h4>
                                <p>Al estar en serie, las resistencias se suman:</p>
                                <div class="formula">R<sub>T</sub> = R1 + R2 = 4.7kΩ + 2.2kΩ = 6.9 kΩ = 6900 Ω</div>
                            </div>
                            
                            <div class="step">
                                <h4>Paso 2: Tensión efectiva</h4>
                                <p>Restamos la caída del diodo de Germanio a la fuente:</p>
                                <div class="formula">V<sub>R_total</sub> = V<sub>CC</sub> - V<sub>Ge</sub></div>
                                <div class="calculation">V<sub>R_total</sub> = 6V - 0.4V = 5.6 V</div>
                            </div>
                            
                            <div class="step">
                                <h4>Paso 3: Ley de Ohm</h4>
                                <div class="formula">I = V<sub>R_total</sub> / R<sub>T</sub></div>
                                <div class="calculation">I = 5.6V / 6900Ω ≈ 0.000811 A = 0.81 mA</div>
                            </div>
                            
                            <div class="solution-highlight">
                                <h3>Solución:</h3>
                                <p><strong>I = 0.81 mA</strong></p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn btn-back" onclick="showHome()">Volver al inicio</button>
                        <button class="btn" onclick="showProblem(4)">← Problema anterior</button>
                        <button class="btn" onclick="showProblem(6)">Siguiente problema →</button>
                    </div>
                </div>
            </section>

             <section id="problem6" class="content">
                <div class="problem-container">
                    <h2 class="problem-title">Problema 6</h2>
                    <p class="problem-statement">¿Quién necesita que se le coloque más resistencia para evitar destruirse (manteniendo la misma corriente), un LED verde o uno rojo? Justifica la respuesta.</p>
                    
                    <button class="btn btn-board" onclick="toggleBoard(6)">Modo Pizarra - Ver Razonamiento</button>
                    
                    <div class="board-mode">
                        <div class="board-steps" id="board6">
                            <div class="step">
                                <h4>Datos</h4>
                                <ul>
                                    <li>V<sub>LED_Rojo</sub> ≈ 1.6 V</li>
                                    <li>V<sub>LED_Verde</sub> ≈ 2.4 V</li>
                                </ul>
                            </div>
                            
                            <div class="step">
                                <h4>Razonamiento</h4>
                                <p>La fórmula de la resistencia es: <span class="formula">R = (V<sub>pila</sub> - V<sub>LED</sub>) / I</span></p>
                                <p>Si V<sub>pila</sub> e I son constantes para ambos:</p>
                                <ul>
                                    <li>Para el <strong>Rojo</strong>: Restamos un número pequeño (1.6), por lo que (V<sub>pila</sub> - 1.6) es <strong>mayor</strong>.</li>
                                    <li>Para el <strong>Verde</strong>: Restamos un número más grande (2.4), por lo que (V<sub>pila</sub> - 2.4) es <strong>menor</strong>.</li>
                                </ul>
                            </div>

                            <div class="solution-highlight">
                                <h3>Conclusión:</h3>
                                <p>El <strong>LED Rojo</strong> necesita una resistencia mayor.</p>
                                <p style="font-size: 0.9rem; margin-top:5px;">Al tener menor caída de tensión interna, la resistencia debe soportar más voltaje sobrante para protegerlo.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn btn-back" onclick="showHome()">Volver al inicio</button>
                        <button class="btn" onclick="showProblem(5)">← Problema anterior</button>
                        <button class="btn" onclick="showProblem(7)">Siguiente problema →</button>
                    </div>
                </div>
            </section>

            <section id="problem7" class="content">
                <div class="problem-container">
                    <h2 class="problem-title">Problema 7</h2>
                    <p class="problem-statement">Resuelve el circuito 4, en el que se ha colocado un diodo de germanio y un LED verde. Datos: Vcc=6V. Rama 1: R=500Ω + LED Verde. Rama 2: R=3.3K + R=1.1K + Diodo Germanio.</p>
                    
                    <div class="circuit-container">
                        <img src="img/EAN7_C4.jpg" alt="Circuito 4" class="circuit-image circuit-single">
                    </div>

                    <button class="btn btn-board" onclick="toggleBoard(7)">Modo Pizarra - Ver resolución paso a paso</button>
                    
                    <div class="board-mode">
                        <div class="board-steps" id="board7">
                            <div class="step">
                                <h4>Rama 1: LED Verde + R(500Ω)</h4>
                                <p>Están en paralelo a la fuente de 6V.</p>
                                <div class="formula">V<sub>R_500</sub> = 6V - V<sub>LED_Verde</sub> = 6V - 2.4V = 3.6 V</div>
                                <div class="calculation">I<sub>500</sub> = 3.6V / 500Ω = 0.0072 A = 7.2 mA</div>
                            </div>
                            
                            <div class="step">
                                <h4>Rama 2: Resistencias (3.3K + 1.1K) + Diodo Germanio</h4>
                                <p>Resistencia total de la rama: 3300 + 1100 = 4400 Ω.</p>
                                <div class="formula">V<sub>R_Rama2</sub> = 6V - V<sub>Ge</sub> = 6V - 0.4V = 5.6 V</div>
                                <div class="calculation">I<sub>Rama2</sub> = 5.6V / 4400Ω = 0.00127 A = 1.27 mA</div>
                            </div>
                            
                            <div class="step">
                                <h4>Caídas de Tensión en Rama 2</h4>
                                <p>V en R(3.3K): <span class="calculation">1.27 mA × 3.3 kΩ = 4.19 V (≈4.2V)</span></p>
                                <p>V en R(1.1K): <span class="calculation">1.27 mA × 1.1 kΩ = 1.397 V (≈1.4V)</span></p>
                            </div>
                            
                            <div class="solution-highlight">
                                <h3>Solución:</h3>
                                <p><strong>I (rama LED) = 7.2 mA</strong></p>
                                <p><strong>I (rama Germanio) = 1.27 mA</strong></p>
                                <p><strong>V (3.3K) = 4.2 V</strong></p>
                                <p><strong>V (1.1K) = 1.4 V</strong></p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn btn-back" onclick="showHome()">Volver al inicio</button>
                        <button class="btn" onclick="showProblem(6)">← Problema anterior</button>
                        <button class="btn" onclick="showProblem(8)">Siguiente problema →</button>
                    </div>
                </div>
            </section>

             <section id="problem8" class="content">
                <div class="problem-container">
                    <h2 class="problem-title">Problema 8 (Semáforo)</h2>
                    <p class="problem-statement">El montaje del circuito 5 corresponde a un semáforo que vuestros compañeros de 3º van a construir en su último proyecto. Calcula la intensidad que pasa por cada LED, así como la potencia suministrada por la pila si las tres luces se encendieran simultáneamente.</p>
                    
                    <div class="circuit-container">
                        <img src="img/EAN7_C5.jpg" alt="Circuito 5 - Semáforo" class="circuit-image circuit-single">
                    </div>

                    <button class="btn btn-board" onclick="toggleBoard(8)">Modo Pizarra - Ver resolución paso a paso</button>
                    
                    <div class="board-mode">
                        <div class="board-steps" id="board8">
                            <div class="step">
                                <h4>Paso 1: Intensidad LED Rojo (1.6V)</h4>
                                <div class="formula">I = (4.5V - 1.6V) / 160Ω</div>
                                <div class="calculation">I = 2.9V / 160Ω = 18.125 mA</div>
                            </div>
                            
                            <div class="step">
                                <h4>Paso 2: Intensidad LED Amarillo (1.7V)</h4>
                                <div class="formula">I = (4.5V - 1.7V) / 150Ω</div>
                                <div class="calculation">I = 2.8V / 150Ω = 18.666 mA</div>
                            </div>

                            <div class="step">
                                <h4>Paso 3: Intensidad LED Verde (2.4V)</h4>
                                <div class="formula">I = (4.5V - 2.4V) / 120Ω</div>
                                <div class="calculation">I = 2.1V / 120Ω = 17.5 mA</div>
                            </div>
                            
                            <div class="step">
                                <h4>Paso 4: Potencia total suministrada</h4>
                                <p>Primero sumamos todas las corrientes:</p>
                                <div class="calculation">I<sub>Total</sub> = 18.13 + 18.67 + 17.5 = 54.3 mA = 0.0543 A</div>
                                <p>Calculamos potencia (P = V × I):</p>
                                <div class="formula">P<sub>total</sub> = 4.5V × 0.0543A = 0.24435 W</div>
                                <div class="calculation">P<sub>total</sub> = 244.35 mW</div>
                            </div>

                            <div class="step">
                                <h4>Nota sobre Potencia de los LEDs</h4>
                                <p>La solución del PDF calcula la potencia disipada por cada <strong>LED individualmente</strong> (P = V<sub>led</sub> × I):</p>
                                <ul style="font-size: 0.9rem;">
                                    <li>P<sub>Rojo</sub> = 1.6V × 18.13mA = 29.01 mW</li>
                                    <li>P<sub>Amarillo</sub> = 1.7V × 18.67mA = 31.74 mW</li>
                                    <li>P<sub>Verde</sub> = 2.4V × 17.5mA = 42 mW</li>
                                </ul>
                            </div>
                            
                            <div class="solution-highlight">
                                <h3>Solución:</h3>
                                <p><strong>I<sub>Rojo</sub> = 18.13 mA</strong></p>
                                <p><strong>I<sub>Amarillo</sub> = 18.67 mA</strong></p>
                                <p><strong>I<sub>Verde</sub> = 17.50 mA</strong></p>
                                <p><strong>P<sub>Total Pila</sub> = 244.35 mW</strong></p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn btn-back" onclick="showHome()">Volver al inicio</button>
                        <button class="btn" onclick="showProblem(7)">← Problema anterior</button>
                        <button class="btn" onclick="showProblem(9)">Siguiente problema →</button>
                    </div>
                </div>
            </section>

            <section id="problem9" class="content">
                <div class="problem-container">
                    <h2 class="problem-title">Problema 9</h2>
                    
                    <div class="display-container">
                        <div class="display-text">
                            <p class="problem-statement">Un display de 7 segmentos está formado por siete ledes de color rojo, protegidos por otras tantas resistencias de polarización de 380 Ω. ¿Cuál será la potencia consumida por este display cuando se conecta a una fuente de alimentación de 9 voltios?</p>
                        </div>
                        <img src="img/Display7Segmentos.jpg" alt="Display de 7 segmentos" class="display-image">
                    </div>

                    <button class="btn btn-board" onclick="toggleBoard(9)">Modo Pizarra - Ver resolución paso a paso</button>
                    
                    <div class="board-mode">
                        <div class="board-steps" id="board9">
                            <div class="step">
                                <h4>Paso 1: Calcular intensidad de UN segmento</h4>
                                <div class="formula">I<sub>seg</sub> = (9V - 1.6V) / 380Ω</div>
                                <div class="calculation">I<sub>seg</sub> = 7.4V / 380Ω = 0.01947 A = 19.47 mA</div>
                            </div>
                            
                            <div class="step">
                                <h4>Paso 2: Calcular intensidad total (7 segmentos)</h4>
                                <div class="formula">I<sub>total</sub> = 7 × 19.47 mA = 136.29 mA = 0.1363 A</div>
                            </div>
                            
                            <div class="step">
                                <h4>Paso 3: Calcular Potencia de la Fuente</h4>
                                <div class="formula">P = V × I<sub>total</sub></div>
                                <div class="calculation">P = 9V × 0.1363A = 1.2267 W</div>
                            </div>
                            
                            <div class="solution-highlight">
                                <h3>Solución:</h3>
                                <p><strong>Potencia Total ≈ 1.23 W</strong></p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn btn-back" onclick="showHome()">Volver al inicio</button>
                        <button class="btn" onclick="showProblem(8)">← Problema anterior</button>
                        <button class="btn" onclick="showProblem(10)">Siguiente problema →</button>
                    </div>
                </div>
            </section>

             <section id="problem10" class="content">
                <div class="problem-container">
                    <h2 class="problem-title">Problema 10</h2>
                    <p class="problem-statement">Calcula las intensidades que pasan por los diferentes puntos del circuito 6. ¿Cuál es la resistencia mínima que habría que colocar para que no se quemara el LED amarillo?</p>
                    
                    <div class="circuit-container">
                        <img src="img/EAN7_C6.jpg" alt="Circuito 6" class="circuit-image circuit-single">
                    </div>

                    <button class="btn btn-board" onclick="toggleBoard(10)">Modo Pizarra - Ver resolución paso a paso</button>
                    
                    <div class="board-mode">
                        <div class="board-steps" id="board10">
                            <div class="step">
                                <h4>Nota sobre el enunciado</h4>
                                <p>El enunciado original da resultados de corrientes muy dispares (1.198A vs 3.48mA) debido a que la resistencia de la izquierda es de solo 2 Ohmios. Analizaremos el cálculo de la resistencia de protección del LED.</p>
                            </div>
                            
                            <div class="step">
                                <h4>Cálculo de R mínima para el LED</h4>
                                <p>Para que no se queme, I<sub>max</sub> = 20 mA (0.02 A). Asumimos que la caída en el bloque paralelo es prácticamente la tensión que ve el LED (si despreciamos la bombilla o asumimos el peor caso de tensión directa).</p>
                                <p>Si el LED amarillo tiene 1.7V y se conecta directamente a una fuente equivalente:</p>
                                <div class="formula">R<sub>min</sub> = (V<sub>fuente</sub> - V<sub>LED</sub>) / I<sub>max</sub></div>
                                <p>Usando los datos de la solución proporcionada en el PDF (R=33.8Ω) y retrocediendo, parece que se asume una tensión efectiva en ese nodo.</p>
                                <p>Sin embargo, el cálculo estándar para proteger un LED amarillo a 20mA es:</p>
                                <div class="calculation">R = (V - 1.7) / 0.02</div>
                            </div>
                            
                            <div class="solution-highlight">
                                <h3>Solución del PDF:</h3>
                                <p><strong>I<sub>Rama Izq</sub> = 1.198 A</strong></p>
                                <p><strong>I<sub>Rama Der (LED)</sub> = 3.48 mA</strong></p>
                                <p><strong>R<sub>minima</sub> = 33.8 Ω</strong></p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn btn-back" onclick="showHome()">Volver al inicio</button>
                        <button class="btn" onclick="showProblem(9)">← Problema anterior</button>
                        <button class="btn" onclick="showProblem(11)">Siguiente problema →</button>
                    </div>
                </div>
            </section>

             <section id="problem11" class="content">
                <div class="problem-container">
                    <h2 class="problem-title">Problema 11</h2>
                    <p class="problem-statement">En el circuito 7, ¿qué resistencia habrá que colocar para que no se queme el LED rojo?</p>
                    
                    <div class="circuit-container">
                        <img src="img/EAN7_C7.jpg" alt="Circuito 7" class="circuit-image circuit-single">
                    </div>

                    <button class="btn btn-board" onclick="toggleBoard(11)">Modo Pizarra - Ver resolución paso a paso</button>
                    
                    <div class="board-mode">
                        <div class="board-steps" id="board11">
                            <div class="step">
                                <h4>Datos</h4>
                                <ul>
                                    <li>V<sub>CC</sub> = 9V</li>
                                    <li>V<sub>LED Rojo</sub> = 1.6V (típico), aunque a veces se usa 2V para cálculos conservadores. Usaremos los datos del boletín (parece usar LED de alto brillo o cálculo estándar 20mA).</li>
                                    <li>I<sub>max</sub> = 20 mA = 0.02 A</li>
                                </ul>
                            </div>
                            
                            <div class="step">
                                <h4>Cálculo</h4>
                                <div class="formula">R = (V<sub>CC</sub> - V<sub>LED</sub>) / I</div>
                                <p>Si usamos V<sub>LED</sub> = 1.6V (dato tabla):</p>
                                <div class="calculation">R = (9 - 1.6) / 0.02 = 7.4 / 0.02 = 370 Ω</div>
                                <p>Sin embargo, la solución del PDF es 315 Ω. Esto implica que usaron V<sub>LED</sub> ≈ 2.7V o una corriente mayor (~23mA). O bien, el LED rojo considerado tiene una caída distinta.</p>
                                <p>Si hacemos ingeniería inversa con la solución (315Ω):</p>
                                <div class="formula">I = (9 - 1.6) / 315 = 23.4 mA</div>
                                <p>Es un valor aceptable cercano a 20mA.</p>
                            </div>
                            
                            <div class="solution-highlight">
                                <h3>Solución del PDF:</h3>
                                <p><strong>R = 315 Ω</strong></p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn btn-back" onclick="showHome()">Volver al inicio</button>
                        <button class="btn" onclick="showProblem(10)">← Problema anterior</button>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <script>
        function showHome() {
            // Hide all content sections
            document.querySelectorAll('.content').forEach(section => {
                section.classList.remove('active');
            });
            // Show home section
            document.getElementById('home').classList.add('active');
            // Scroll to top
            window.scrollTo(0, 0);
        }
        
        function showProblem(problemNumber) {
            // Hide all content sections
            document.querySelectorAll('.content').forEach(section => {
                section.classList.remove('active');
            });
            // Show selected problem section
            document.getElementById('problem' + problemNumber).classList.add('active');
            // Scroll to top
            window.scrollTo(0, 0);
        }
        
        function toggleBoard(problemNumber) {
            const board = document.getElementById('board' + problemNumber);
            if (board) {
                board.classList.toggle('active');
                
                // Change button text based on state
                const button = event.target;
                if (board.classList.contains('active')) {
                    button.textContent = 'Ocultar resolución';
                    button.style.background = '#064e3b';
                } else {
                    button.textContent = 'Modo Pizarra - Ver resolución paso a paso';
                    button.style.background = '';
                }
            }
        }
        
        // Initialize with home section active
        document.addEventListener('DOMContentLoaded', function() {
            showHome();
        });
    </script>
</body>
</html>